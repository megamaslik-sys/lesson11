<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Важные английские глаголы - Игровой тренажёр</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Arial Rounded MT Bold', 'Trebuchet MS', sans-serif;
        }
        
        :root {
            --primary-color: #00ccff;
            --secondary-color: #0066ff;
            --accent-color: #ffcc00;
            --dark-bg: #0a0a2a;
            --card-bg: rgba(15, 20, 45, 0.95);
            --text-color: #ffffff;
            --text-secondary: #aaccff;
        }
        
        body {
            background: radial-gradient(circle at center, var(--dark-bg) 0%, #050515 70%, #020210 100%);
            color: var(--text-color);
            min-height: 100vh;
            padding: 15px;
            overflow-x: hidden;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(0, 100, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(255, 0, 150, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(0, 255, 200, 0.1) 0%, transparent 50%);
            z-index: -1;
            pointer-events: none;
        }
        
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            pointer-events: none;
        }
        
        .container {
            max-width: 1300px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        header {
            text-align: center;
            margin-bottom: 25px;
            padding: 20px 15px;
            background: rgba(10, 15, 40, 0.9);
            border-radius: 20px;
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.5),
                0 0 20px rgba(0, 100, 255, 0.3),
                inset 0 0 15px rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 150, 255, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        h1 {
            color: var(--text-color);
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 
                0 0 8px var(--primary-color),
                0 0 15px var(--secondary-color),
                0 4px 4px rgba(0, 0, 0, 0.5);
            letter-spacing: 0.5px;
            background: linear-gradient(to right, var(--primary-color), #0099ff, var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: titleGlow 3s infinite alternate;
        }
        
        @keyframes titleGlow {
            0% { text-shadow: 0 0 8px var(--primary-color), 0 0 15px var(--secondary-color), 0 4px 4px rgba(0, 0, 0, 0.5); }
            100% { text-shadow: 0 0 12px var(--primary-color), 0 0 20px var(--secondary-color), 0 4px 4px rgba(0, 0, 0, 0.5); }
        }
        
        .subtitle {
            color: var(--text-secondary);
            font-size: 1.2rem;
            margin-bottom: 15px;
            text-shadow: 0 0 8px rgba(100, 200, 255, 0.5);
            font-weight: 300;
        }
        
        .progress-container {
            margin: 15px 0;
        }
        
        .progress-label {
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-size: 1rem;
            text-shadow: 0 0 8px rgba(100, 200, 255, 0.5);
        }
        
        .progress-bar {
            height: 20px;
            background: rgba(20, 30, 60, 0.7);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(0, 150, 255, 0.3);
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00cc66, #00aa44, #008833);
            width: 0%;
            transition: width 0.5s;
            position: relative;
            overflow: hidden;
            border-radius: 10px;
        }
        
        .game-stats {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 15px;
            font-size: 1rem;
            color: var(--text-secondary);
            font-weight: bold;
        }
        
        .stat {
            background: rgba(20, 30, 60, 0.7);
            padding: 12px 15px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 150, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s;
        }
        
        .stat:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4), 0 0 10px rgba(0, 150, 255, 0.3);
            border-color: rgba(0, 200, 255, 0.5);
        }
        
        .stat i {
            color: var(--primary-color);
            font-size: 1.2rem;
        }
        
        .game-modes {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .mode-btn {
            background: linear-gradient(145deg, #1a1a40, #0f0f2a);
            color: #ccddff;
            border: none;
            padding: 18px 20px;
            font-size: 1.3rem;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            box-shadow: 
                0 6px 15px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            border: 1px solid rgba(0, 150, 255, 0.2);
            width: 100%;
        }
        
        .mode-btn.active {
            background: linear-gradient(145deg, var(--secondary-color), #0044cc);
            color: white;
            transform: scale(1.02);
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.5),
                0 0 25px rgba(0, 102, 255, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border-color: rgba(0, 200, 255, 0.8);
            animation: buttonPulse 2s infinite alternate;
        }
        
        @keyframes buttonPulse {
            0% { box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5), 0 0 25px rgba(0, 102, 255, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.3); }
            100% { box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5), 0 0 35px rgba(0, 102, 255, 0.8), inset 0 1px 0 rgba(255, 255, 255, 0.3); }
        }
        
        .game-area {
            background: rgba(15, 20, 45, 0.9);
            border-radius: 20px;
            padding: 20px 15px;
            box-shadow: 
                0 10px 25px rgba(0, 0, 0, 0.5),
                0 0 20px rgba(0, 80, 255, 0.2),
                inset 0 0 15px rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 150, 255, 0.3);
            margin-bottom: 25px;
            min-height: 400px;
            position: relative;
            overflow: hidden;
        }
        
        /* Стили для режима карточек */
        .flashcards-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .flashcard {
            height: 170px;
            perspective: 1000px;
            cursor: pointer;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s;
        }
        
        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
        }
        
        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }
        
        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 16px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.2);
        }
        
        .flashcard-front {
            background: linear-gradient(145deg, #2a2a6e, #1a1a4a);
            color: var(--text-color);
            border: 2px solid rgba(0, 200, 255, 0.4);
        }
        
        .flashcard-back {
            background: linear-gradient(145deg, #1a4a6e, #0a2a4a);
            color: var(--text-color);
            transform: rotateY(180deg);
            border: 2px solid rgba(0, 255, 200, 0.4);
        }
        
        .verb {
            font-size: 2.2rem;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
            color: #aaccff;
        }
        
        .translation {
            font-size: 1.8rem;
            color: #00ffcc;
            font-weight: bold;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }
        
        .card-hint {
            font-size: 0.9rem;
            color: #aaccff;
            margin-top: 15px;
            opacity: 0.8;
        }
        
        .speak-btn {
            background: linear-gradient(145deg, #2a4a8e, #1a2a6e);
            border: none;
            color: var(--primary-color);
            font-size: 1.5rem;
            cursor: pointer;
            margin-top: 12px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            box-shadow: 
                0 6px 12px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(0, 150, 255, 0.3);
        }
        
        .speak-btn:hover {
            background: linear-gradient(145deg, #3a5a9e, #2a3a7e);
            transform: scale(1.1);
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.4),
                0 0 15px rgba(0, 150, 255, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            color: #ffffff;
            border-color: rgba(0, 200, 255, 0.6);
        }
        
        /* Стили для игры "Собери слово" */
        .word-game {
            display: none;
        }
        
        .word-instructions {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.2rem;
            color: var(--text-secondary);
            padding: 0 10px;
            line-height: 1.4;
        }
        
        .word-container {
            width: 100%;
            margin: 0 auto;
        }
        
        .word-prompt {
            text-align: center;
            margin-bottom: 25px;
            padding: 20px 15px;
            background: linear-gradient(145deg, #1a2a6e, #0a1a4a);
            border-radius: 16px;
            box-shadow: 
                0 6px 15px rgba(0, 0, 0, 0.4),
                inset 0 0 15px rgba(0, 0, 0, 0.2);
            border: 2px solid rgba(0, 200, 255, 0.4);
        }
        
        .prompt-text {
            font-size: 1.8rem;
            color: var(--primary-color);
            margin-bottom: 10px;
            font-weight: bold;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
            line-height: 1.3;
        }
        
        .prompt-hint {
            font-size: 1rem;
            color: var(--text-secondary);
            font-style: italic;
        }
        
        .word-display {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 25px;
            min-height: 70px;
        }
        
        .word-slot {
            width: 55px;
            height: 55px;
            background: linear-gradient(145deg, #1a3a6e, #0a2a5e);
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            font-weight: bold;
            border: 2px dashed rgba(0, 200, 255, 0.5);
            transition: all 0.3s;
            color: #ccddff;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
            text-transform: lowercase;
        }
        
        .word-slot.filled {
            background: linear-gradient(145deg, #0a6e3a, #005e2a);
            border: 2px solid rgba(0, 255, 150, 0.8);
            color: #ffffff;
        }
        
        .letters-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 25px;
            padding: 15px;
            background: rgba(20, 30, 60, 0.7);
            border-radius: 16px;
            min-height: 90px;
            border: 2px solid rgba(0, 200, 255, 0.3);
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.3);
        }
        
        .letter {
            background: linear-gradient(145deg, #2a4a8e, #1a2a6e);
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            font-weight: bold;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 
                0 6px 12px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            user-select: none;
            text-transform: lowercase;
            color: #ccddff;
            border: 1px solid rgba(0, 150, 255, 0.3);
        }
        
        .letter.selected {
            background: linear-gradient(145deg, #00aa44, #008833);
            color: white;
            transform: scale(1.1);
            box-shadow: 
                0 8px 15px rgba(0, 0, 0, 0.4),
                0 0 20px rgba(0, 255, 100, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border-color: rgba(0, 255, 150, 0.8);
        }
        
        .game-controls {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 20px;
        }
        
        .control-btn {
            background: linear-gradient(145deg, #1a4a8e, #0a3a7e);
            color: white;
            border: none;
            padding: 16px 20px;
            font-size: 1.1rem;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            box-shadow: 
                0 6px 15px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            border: 1px solid rgba(0, 150, 255, 0.3);
            width: 100%;
        }
        
        .control-btn.check-btn {
            background: linear-gradient(145deg, #00aa44, #008833);
        }
        
        .game-feedback {
            text-align: center;
            margin-top: 20px;
            font-size: 1.5rem;
            padding: 15px;
            border-radius: 16px;
            transition: all 0.5s;
            opacity: 0;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1.3;
        }
        
        .feedback-correct {
            background: linear-gradient(145deg, rgba(0, 150, 50, 0.8), rgba(0, 100, 30, 0.8));
            color: #aaffcc;
            opacity: 1;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.4),
                0 0 25px rgba(0, 255, 100, 0.4);
            border: 1px solid rgba(0, 255, 150, 0.5);
        }
        
        .feedback-incorrect {
            background: linear-gradient(145deg, rgba(150, 0, 0, 0.8), rgba(100, 0, 0, 0.8));
            color: #ffcccc;
            opacity: 1;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.4),
                0 0 25px rgba(255, 0, 100, 0.4);
            border: 1px solid rgba(255, 0, 100, 0.5);
        }
        
        /* Стили для игры "Кто хочет стать миллионером?" */
        .millionaire-game {
            display: none;
            text-align: center;
            width: 100%;
        }
        
        .game-title {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin-bottom: 15px;
            text-shadow: 
                0 0 8px var(--primary-color),
                0 0 15px var(--secondary-color),
                0 4px 4px rgba(0, 0, 0, 0.5);
            line-height: 1.3;
        }
        
        .game-logo {
            font-size: 3rem;
            color: var(--accent-color);
            margin-bottom: 15px;
        }
        
        .prize-levels {
            display: flex;
            flex-direction: column-reverse;
            gap: 6px;
            margin-bottom: 20px;
            max-height: 200px;
            overflow-y: auto;
            padding: 12px;
            background: rgba(20, 30, 60, 0.7);
            border-radius: 16px;
            border: 2px solid rgba(0, 150, 255, 0.3);
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.3);
        }
        
        .prize-level {
            display: flex;
            justify-content: space-between;
            padding: 10px 12px;
            border-radius: 8px;
            font-weight: bold;
            transition: all 0.3s;
            color: #ccddff;
            border: 1px solid transparent;
            font-size: 0.9rem;
        }
        
        .prize-level.current {
            background: linear-gradient(90deg, rgba(0, 102, 255, 0.3), rgba(0, 200, 255, 0.3));
            color: #ffffff;
            transform: scale(1.02);
            box-shadow: 
                0 4px 10px rgba(0, 0, 0, 0.3),
                0 0 10px rgba(0, 150, 255, 0.4);
            border-color: rgba(0, 200, 255, 0.5);
        }
        
        .prize-amount {
            font-weight: bold;
            color: var(--accent-color);
        }
        
        .question-container {
            background: linear-gradient(145deg, #1a2a6e, #0a1a4a);
            border-radius: 16px;
            padding: 20px 15px;
            margin-bottom: 20px;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.5),
                inset 0 0 15px rgba(0, 0, 0, 0.2);
            border: 2px solid rgba(0, 200, 255, 0.4);
        }
        
        .question-text {
            font-size: 1.6rem;
            color: var(--primary-color);
            margin-bottom: 20px;
            font-weight: bold;
            line-height: 1.3;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }
        
        .answers-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .answer-option {
            background: linear-gradient(145deg, #2a4a8e, #1a2a6e);
            padding: 18px 15px;
            border-radius: 16px;
            font-size: 1.4rem;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 
                0 6px 15px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 80px;
            position: relative;
            border: 1px solid rgba(0, 150, 255, 0.3);
            color: #ccddff;
        }
        
        .answer-option.correct {
            background: linear-gradient(145deg, #00aa44, #008833);
            color: white;
            animation: correctAnswer 1s ease;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.5),
                0 0 25px rgba(0, 255, 100, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border-color: rgba(0, 255, 150, 0.8);
        }
        
        .answer-option.wrong {
            background: linear-gradient(145deg, #aa0044, #880033);
            color: white;
            animation: wrongAnswer 0.5s ease;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.5),
                0 0 25px rgba(255, 0, 100, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 0, 100, 0.8);
        }
        
        .answer-letter {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.3);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.4rem;
            color: var(--primary-color);
            border: 1px solid rgba(0, 150, 255, 0.5);
        }
        
        .answer-text {
            padding-left: 50px;
            padding-right: 12px;
            text-align: center;
            width: 100%;
            line-height: 1.3;
        }
        
        .lifelines {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .lifeline-btn {
            background: linear-gradient(145deg, #1a4a8e, #0a3a7e);
            color: white;
            border: none;
            padding: 14px 20px;
            font-size: 1.1rem;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            box-shadow: 
                0 6px 15px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            border: 1px solid rgba(0, 150, 255, 0.3);
            width: 100%;
        }
        
        .game-controls-millionaire {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }
        
        .millionaire-btn {
            background: linear-gradient(145deg, #1a4a8e, #0a3a7e);
            color: white;
            border: none;
            padding: 18px 20px;
            font-size: 1.2rem;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            border: 1px solid rgba(0, 150, 255, 0.3);
            width: 100%;
        }
        
        .millionaire-btn.start-btn {
            background: linear-gradient(145deg, #00aa44, #008833);
        }
        
        .millionaire-btn.take-money {
            background: linear-gradient(145deg, #ff9900, #cc7700);
        }
        
        .game-result {
            font-size: 1.6rem;
            margin-top: 20px;
            padding: 20px 15px;
            border-radius: 16px;
            background: linear-gradient(145deg, #1a2a6e, #0a1a4a);
            animation: fadeIn 1s ease;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.5),
                inset 0 0 15px rgba(0, 0, 0, 0.2);
            border: 2px solid rgba(0, 200, 255, 0.4);
            line-height: 1.4;
        }
        
        footer {
            text-align: center;
            color: var(--text-secondary);
            padding: 20px 15px;
            font-size: 1rem;
            background: rgba(10, 15, 40, 0.8);
            border-radius: 16px;
            margin-top: 20px;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.5),
                0 0 20px rgba(0, 100, 255, 0.2),
                inset 0 0 12px rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 150, 255, 0.3);
            line-height: 1.5;
        }
        
        .copyright {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-top: 10px;
        }
        
        .studio-name {
            font-weight: bold;
            color: var(--primary-color);
            margin-top: 8px;
            text-shadow: 0 0 8px rgba(0, 200, 255, 0.5);
        }
        
        /* Анимации */
        @keyframes correctAnswer {
            0% { transform: scale(1); background: linear-gradient(145deg, #2a4a8e, #1a2a6e); }
            50% { transform: scale(1.03); background: linear-gradient(145deg, #00cc55, #00aa44); }
            100% { transform: scale(1); background: linear-gradient(145deg, #00aa44, #008833); }
        }
        
        @keyframes wrongAnswer {
            0% { transform: scale(1); }
            25% { transform: scale(0.97); }
            50% { transform: scale(1); }
            75% { transform: scale(0.97); }
            100% { transform: scale(1); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Десктопные стили */
        @media (min-width: 768px) {
            body {
                padding: 20px;
            }
            
            header {
                padding: 25px;
                margin-bottom: 30px;
            }
            
            h1 {
                font-size: 3rem;
            }
            
            .subtitle {
                font-size: 1.5rem;
            }
            
            .game-stats {
                flex-direction: row;
                justify-content: center;
                gap: 25px;
                font-size: 1.2rem;
            }
            
            .stat {
                padding: 15px 25px;
            }
            
            .game-modes {
                flex-direction: row;
                justify-content: center;
                gap: 20px;
                margin-bottom: 30px;
            }
            
            .mode-btn {
                width: auto;
                min-width: 180px;
                padding: 20px 30px;
                font-size: 1.4rem;
            }
            
            .game-area {
                padding: 30px;
                border-radius: 25px;
                margin-bottom: 30px;
            }
            
            .flashcards-container {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                gap: 25px;
            }
            
            .flashcard {
                height: 200px;
            }
            
            .verb {
                font-size: 2.5rem;
            }
            
            .translation {
                font-size: 2rem;
            }
            
            .word-instructions {
                font-size: 1.4rem;
                margin-bottom: 30px;
            }
            
            .word-prompt {
                padding: 25px;
                margin-bottom: 30px;
            }
            
            .prompt-text {
                font-size: 2.2rem;
            }
            
            .word-display {
                gap: 15px;
                margin-bottom: 30px;
            }
            
            .word-slot {
                width: 70px;
                height: 70px;
                font-size: 2.5rem;
            }
            
            .letters-container {
                gap: 15px;
                padding: 20px;
                margin-bottom: 30px;
            }
            
            .letter {
                width: 65px;
                height: 65px;
                font-size: 2.2rem;
            }
            
            .game-controls {
                flex-direction: row;
                justify-content: center;
                gap: 20px;
            }
            
            .control-btn {
                width: auto;
                min-width: 160px;
                padding: 18px 25px;
                font-size: 1.2rem;
            }
            
            .game-feedback {
                font-size: 1.8rem;
                padding: 20px;
            }
            
            .game-title {
                font-size: 2.5rem;
            }
            
            .prize-levels {
                max-height: 250px;
            }
            
            .prize-level {
                padding: 12px 20px;
                font-size: 1rem;
            }
            
            .question-container {
                padding: 30px;
                margin-bottom: 30px;
            }
            
            .question-text {
                font-size: 2rem;
                margin-bottom: 30px;
            }
            
            .answers-grid {
                grid-template-columns: 1fr 1fr;
                gap: 20px;
            }
            
            .answer-option {
                padding: 25px;
                font-size: 1.6rem;
                min-height: 100px;
            }
            
            .lifelines {
                flex-direction: row;
                justify-content: center;
                gap: 15px;
            }
            
            .lifeline-btn {
                width: auto;
                min-width: 150px;
            }
            
            .game-controls-millionaire {
                flex-direction: row;
                justify-content: center;
                gap: 20px;
            }
            
            .millionaire-btn {
                width: auto;
                min-width: 180px;
                padding: 20px 30px;
            }
            
            .game-result {
                font-size: 2rem;
                padding: 25px;
            }
            
            footer {
                padding: 25px;
                margin-top: 30px;
            }
        }
        
        @media (min-width: 1024px) {
            h1 {
                font-size: 3.5rem;
            }
            
            .flashcards-container {
                grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            }
            
            .word-slot {
                width: 80px;
                height: 80px;
            }
            
            .letter {
                width: 70px;
                height: 70px;
            }
            
            .answers-grid {
                gap: 25px;
            }
        }
        
        /* Портретный режим для мобильных */
        @media (max-height: 700px) and (orientation: portrait) {
            .game-area {
                min-height: 350px;
            }
            
            .flashcard {
                height: 150px;
            }
            
            .verb {
                font-size: 1.8rem;
            }
            
            .translation {
                font-size: 1.6rem;
            }
            
            .word-slot {
                width: 45px;
                height: 45px;
                font-size: 1.8rem;
            }
            
            .letter {
                width: 45px;
                height: 45px;
                font-size: 1.8rem;
            }
        }
        
        /* Ландшафтный режим для мобильных */
        @media (max-width: 900px) and (orientation: landscape) {
            .game-modes {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .mode-btn {
                width: calc(50% - 10px);
            }
            
            .flashcards-container {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .flashcard {
                height: 180px;
            }
            
            .answers-grid {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <div class="container">
        <header>
            <h1><i class="fas fa-gamepad"></i> Важные английские глаголы</h1>
            <p class="subtitle">Игровой тренажёр для эффективного запоминания</p>
            
            <div class="progress-container">
                <div class="progress-label">Прогресс изучения: <span id="learned-count">0</span>/28 глаголов</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
            </div>
            
            <div class="game-stats">
                <div class="stat"><i class="fas fa-check-circle"></i> Выучено: <span id="learned-count-text">0</span>/28</div>
                <div class="stat"><i class="fas fa-trophy"></i> Правильных ответов: <span id="correct-count">0</span></div>
                <div class="stat"><i class="fas fa-star"></i> Уровень: <span id="level">Новичок</span></div>
            </div>
        </header>
        
        <div class="game-modes">
            <button class="mode-btn active" data-mode="flashcards"><i class="fas fa-layer-group"></i> Карточки</button>
            <button class="mode-btn" data-mode="wordgame"><i class="fas fa-puzzle-piece"></i> Собери слово</button>
            <button class="mode-btn" data-mode="millionaire"><i class="fas fa-crown"></i> Играть</button>
        </div>
        
        <div class="game-area">
            <!-- Режим карточек -->
            <div id="flashcards-game" class="flashcards-container">
                <!-- Карточки будут сгенерированы JavaScript -->
            </div>
            
            <!-- Режим "Собери слово" -->
            <div id="word-game" class="word-game">
                <div class="word-instructions">Собери английский глагол из букв, чтобы перевести слово с русского!</div>
                <div class="word-container">
                    <div class="word-prompt">
                        <div class="prompt-text" id="word-prompt-text">Перевод появится здесь</div>
                        <div class="prompt-hint" id="word-hint">Выберите буквы в правильном порядке</div>
                    </div>
                    
                    <div class="word-display" id="word-display">
                        <!-- Сюда будут добавляться слоты для букв -->
                    </div>
                    
                    <div class="letters-container" id="letters-container">
                        <!-- Сюда будут добавляться буквы -->
                    </div>
                    
                    <div class="game-controls">
                        <button class="control-btn" id="clear-btn"><i class="fas fa-eraser"></i> Очистить</button>
                        <button class="control-btn check-btn" id="check-btn"><i class="fas fa-check"></i> Проверить</button>
                        <button class="control-btn" id="hint-btn"><i class="fas fa-lightbulb"></i> Подсказка</button>
                    </div>
                    
                    <div class="game-feedback" id="game-feedback">
                        <!-- Сюда будет выводиться результат -->
                    </div>
                </div>
            </div>
            
            <!-- Режим "Кто хочет стать миллионером?" -->
            <div id="millionaire-game" class="millionaire-game">
                <div class="game-logo">
                    <i class="fas fa-crown"></i>
                </div>
                <h2 class="game-title">Кто хочет выучить английские глаголы?</h2>
                
                <div class="prize-levels" id="prize-levels">
                    <!-- Уровни призов будут добавлены через JS -->
                </div>
                
                <div id="game-content">
                    <div class="question-container" id="question-container" style="display: none;">
                        <div class="question-text" id="question-text">Вопрос появится здесь</div>
                        
                        <div class="answers-grid" id="answers-grid">
                            <!-- Варианты ответов будут добавлены через JS -->
                        </div>
                        
                        <div class="lifelines" id="lifelines">
                            <button class="lifeline-btn" id="fifty-fifty">
                                <i class="fas fa-adjust"></i> 50/50
                            </button>
                            <button class="lifeline-btn" id="call-friend">
                                <i class="fas fa-phone"></i> Звонок другу
                            </button>
                            <button class="lifeline-btn" id="ask-audience">
                                <i class="fas fa-users"></i> Помощь зала
                            </button>
                        </div>
                        
                        <div class="game-controls-millionaire">
                            <button class="millionaire-btn take-money" id="take-money" style="display: none;">
                                <i class="fas fa-trophy"></i> Забрать баллы
                            </button>
                        </div>
                    </div>
                    
                    <div class="game-result" id="game-result" style="display: none;">
                        <!-- Результат игры будет выведен здесь -->
                    </div>
                    
                    <div id="start-screen">
                        <div class="question-container">
                            <div class="question-text">
                                Добро пожаловать в игру "Кто хочет выучить английские глаголы?"!<br><br>
                                Ответьте правильно на 10 вопросов о значении английских глаголов и станьте чемпионом!
                            </div>
                            <div class="game-controls-millionaire">
                                <button class="millionaire-btn start-btn" id="start-game">
                                    <i class="fas fa-play"></i> Начать игру
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Игра создана для эффективного изучения английских глаголов. Учись, играя!</p>
            <p class="copyright">© Защищено авторскими правами. Создано студией развития детей "УСПЕХ"</p>
            <p class="studio-name">Руководители: Маслик А.А. и Астафьева Э.Н.</p>
        </footer>
    </div>

    <script>
        // Данные глаголов
        const verbs = [
            { english: "add", russian: "добавлять" },
            { english: "clap", russian: "хлопать" },
            { english: "climb", russian: "лазить, взбираться" },
            { english: "close", russian: "закрывать" },
            { english: "cook", russian: "готовить" },
            { english: "dance", russian: "танцевать" },
            { english: "drop", russian: "ронять" },
            { english: "help", russian: "помогать" },
            { english: "jump", russian: "прыгать" },
            { english: "laugh", russian: "смеяться" },
            { english: "listen", russian: "слушать" },
            { english: "live", russian: "жить" },
            { english: "open", russian: "открывать" },
            { english: "paint", russian: "рисовать, красить" },
            { english: "pass", russian: "проходить, передавать" },
            { english: "play", russian: "играть" },
            { english: "serve", russian: "подавать, обслуживать" },
            { english: "shout", russian: "кричать" },
            { english: "skate", russian: "кататься на коньках" },
            { english: "smile", russian: "улыбаться" },
            { english: "start", russian: "начинать" },
            { english: "stop", russian: "останавливаться" },
            { english: "study", russian: "учиться" },
            { english: "talk", russian: "говорить" },
            { english: "visit", russian: "посещать" },
            { english: "walk", russian: "ходить, гулять" },
            { english: "want", russian: "хотеть" },
            { english: "watch", russian: "смотреть" }
        ];

        // Уровни призов для игры "Кто хочет стать миллионером?"
        const prizeLevels = [
            { level: 1, prize: "100 баллов", safe: true },
            { level: 2, prize: "200 баллов", safe: true },
            { level: 3, prize: "300 баллов", safe: true },
            { level: 4, prize: "500 баллов", safe: true },
            { level: 5, prize: "1,000 баллов", safe: true },
            { level: 6, prize: "2,000 баллов", safe: false },
            { level: 7, prize: "4,000 баллов", safe: false },
            { level: 8, prize: "8,000 баллов", safe: false },
            { level: 9, prize: "16,000 баллов", safe: false },
            { level: 10, prize: "32,000 баллов", safe: false }
        ];

        // Состояние игры
        const gameState = {
            learnedVerbs: new Set(),
            correctAnswers: 0,
            currentMode: 'flashcards',
            
            // Для игры "Собери слово"
            wordGame: {
                currentVerb: null,
                selectedLetters: [],
                wordSlots: [],
                hintCount: 0
            },
            
            // Для игры "Кто хочет стать миллионером?"
            millionaire: {
                currentLevel: 0,
                currentPrize: 0,
                isPlaying: false,
                lifelines: {
                    fiftyFifty: true,
                    callFriend: true,
                    askAudience: true
                },
                questionsAnswered: 0,
                currentQuestion: null,
                gameOver: false
            }
        };

        // Инициализация при загрузке страницы
        document.addEventListener('DOMContentLoaded', function() {
            initParticles();
            initFlashcards();
            initWordGame();
            initMillionaireGame();
            updateStats();
            
            // Обработчики кнопок выбора режима
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Удаляем активный класс у всех кнопок
                    document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
                    // Добавляем активный класс текущей кнопке
                    this.classList.add('active');
                    
                    // Скрываем все игровые области
                    document.getElementById('flashcards-game').style.display = 'none';
                    document.getElementById('word-game').style.display = 'none';
                    document.getElementById('millionaire-game').style.display = 'none';
                    
                    // Показываем выбранную игровую область
                    const mode = this.getAttribute('data-mode');
                    gameState.currentMode = mode;
                    
                    if (mode === 'flashcards') {
                        document.getElementById('flashcards-game').style.display = 'grid';
                    } else if (mode === 'wordgame') {
                        document.getElementById('word-game').style.display = 'block';
                        startNewWordGame();
                    } else if (mode === 'millionaire') {
                        document.getElementById('millionaire-game').style.display = 'block';
                    }
                });
            });
        });

        // Инициализация частиц
        function initParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = window.innerWidth < 768 ? 20 : 40;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Случайные размеры и позиции
                const size = Math.random() * 3 + 1;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                const duration = Math.random() * 15 + 10;
                const delay = Math.random() * 5;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${posX}%`;
                particle.style.top = `${posY}%`;
                particle.style.opacity = Math.random() * 0.5 + 0.1;
                particle.style.animation = `float ${duration}s ease-in-out ${delay}s infinite alternate`;
                
                particlesContainer.appendChild(particle);
            }
            
            // Добавляем анимацию парящих частиц
            const style = document.createElement('style');
            style.textContent = `
                @keyframes float {
                    0% { transform: translateY(0) translateX(0); }
                    25% { transform: translateY(-10px) translateX(5px); }
                    50% { transform: translateY(-5px) translateX(-5px); }
                    75% { transform: translateY(5px) translateX(8px); }
                    100% { transform: translateY(0) translateX(0); }
                }
            `;
            document.head.appendChild(style);
        }

        // Инициализация карточек
        function initFlashcards() {
            const container = document.getElementById('flashcards-game');
            
            verbs.forEach((verb, index) => {
                const card = document.createElement('div');
                card.className = 'flashcard';
                card.dataset.index = index;
                
                card.innerHTML = `
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <div class="verb">${verb.english}</div>
                            <div class="card-hint">Нажми, чтобы узнать перевод</div>
                            <button class="speak-btn" onclick="speakWord('${verb.english}')" title="Произнести слово">
                                <i class="fas fa-volume-up"></i>
                            </button>
                        </div>
                        <div class="flashcard-back">
                            <div class="translation">${verb.russian}</div>
                            <div class="card-hint">Нажми, чтобы вернуться</div>
                            <button class="speak-btn" onclick="speakWord('${verb.english}')" title="Произнести слово">
                                <i class="fas fa-volume-up"></i>
                            </button>
                        </div>
                    </div>
                `;
                
                card.addEventListener('click', function() {
                    this.classList.toggle('flipped');
                    
                    // Добавляем глагол в изученные, если еще не добавлен
                    if (!gameState.learnedVerbs.has(verb.english)) {
                        gameState.learnedVerbs.add(verb.english);
                        updateStats();
                        
                        // Анимация успеха
                        this.classList.add('success-animation');
                        setTimeout(() => {
                            this.classList.remove('success-animation');
                        }, 1000);
                    }
                });
                
                container.appendChild(card);
            });
        }

        // Инициализация игры "Собери слово"
        function initWordGame() {
            // Обработчики кнопок
            document.getElementById('clear-btn').addEventListener('click', clearWordSelection);
            document.getElementById('check-btn').addEventListener('click', checkWord);
            document.getElementById('hint-btn').addEventListener('click', giveHint);
        }

        // Начать новую игру "Собери слово"
        function startNewWordGame() {
            // Выбираем случайный глагол
            const randomIndex = Math.floor(Math.random() * verbs.length);
            gameState.wordGame.currentVerb = verbs[randomIndex];
            gameState.wordGame.selectedLetters = [];
            gameState.wordGame.hintCount = 0;
            
            // Обновляем текст подсказки
            document.getElementById('word-prompt-text').textContent = gameState.wordGame.currentVerb.russian;
            document.getElementById('word-hint').textContent = `Собери английское слово из ${gameState.wordGame.currentVerb.english.length} букв`;
            
            // Очищаем предыдущий результат
            document.getElementById('game-feedback').className = 'game-feedback';
            document.getElementById('game-feedback').textContent = '';
            
            // Создаем слоты для слова
            createWordSlots();
            
            // Создаем буквы для выбора
            createLetterOptions();
        }

        // Создать слоты для слова
        function createWordSlots() {
            const wordDisplay = document.getElementById('word-display');
            wordDisplay.innerHTML = '';
            
            const word = gameState.wordGame.currentVerb.english;
            gameState.wordGame.wordSlots = [];
            
            for (let i = 0; i < word.length; i++) {
                const slot = document.createElement('div');
                slot.className = 'word-slot';
                slot.dataset.index = i;
                slot.dataset.expected = word[i].toLowerCase();
                wordDisplay.appendChild(slot);
                gameState.wordGame.wordSlots.push(slot);
            }
        }

        // Создать буквы для выбора
        function createLetterOptions() {
            const lettersContainer = document.getElementById('letters-container');
            lettersContainer.innerHTML = '';
            
            const word = gameState.wordGame.currentVerb.english.toLowerCase();
            const letters = word.split('');
            
            // Добавляем несколько случайных букв, чтобы было интереснее
            const extraLetters = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 
                                 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];
            
            // Убираем буквы, которые уже есть в слове
            const availableExtraLetters = extraLetters.filter(letter => !letters.includes(letter));
            
            // Добавляем 2-4 случайных дополнительных букв (меньше для мобильных)
            const extraCount = window.innerWidth < 768 ? Math.min(3, availableExtraLetters.length) : Math.min(5, availableExtraLetters.length);
            for (let i = 0; i < extraCount; i++) {
                const randomIndex = Math.floor(Math.random() * availableExtraLetters.length);
                letters.push(availableExtraLetters[randomIndex]);
                availableExtraLetters.splice(randomIndex, 1);
            }
            
            // Перемешиваем буквы
            shuffleArray(letters);
            
            // Создаем элементы букв
            letters.forEach((letter, index) => {
                const letterElement = document.createElement('div');
                letterElement.className = 'letter';
                letterElement.textContent = letter;
                letterElement.dataset.letter = letter;
                letterElement.dataset.index = index;
                
                letterElement.addEventListener('click', function() {
                    selectLetter(this);
                });
                
                lettersContainer.appendChild(letterElement);
            });
        }

        // Выбрать букву
        function selectLetter(letterElement) {
            // Если буква уже выбрана, пропускаем
            if (letterElement.classList.contains('selected')) return;
            
            // Находим первый пустой слот
            const emptySlot = gameState.wordGame.wordSlots.find(slot => !slot.textContent);
            
            if (emptySlot) {
                // Добавляем букву в слот
                emptySlot.textContent = letterElement.textContent;
                emptySlot.classList.add('filled');
                
                // Отмечаем букву как выбранную
                letterElement.classList.add('selected');
                
                // Сохраняем выбор
                gameState.wordGame.selectedLetters.push({
                    slot: emptySlot,
                    letter: letterElement
                });
            }
        }

        // Очистить выбор
        function clearWordSelection() {
            // Очищаем все слоты
            gameState.wordGame.wordSlots.forEach(slot => {
                slot.textContent = '';
                slot.classList.remove('filled');
            });
            
            // Снимаем выделение со всех букв
            document.querySelectorAll('.letter.selected').forEach(letter => {
                letter.classList.remove('selected');
            });
            
            // Очищаем массив выбранных букв
            gameState.wordGame.selectedLetters = [];
            
            // Очищаем результат
            document.getElementById('game-feedback').className = 'game-feedback';
            document.getElementById('game-feedback').textContent = '';
        }

        // Проверить слово
        function checkWord() {
            const word = gameState.wordGame.currentVerb.english.toLowerCase();
            let userWord = '';
            
            // Составляем слово из выбранных букв
            gameState.wordGame.wordSlots.forEach(slot => {
                userWord += slot.textContent || '';
            });
            
            // Проверяем
            const feedback = document.getElementById('game-feedback');
            
            if (userWord === word) {
                // Правильный ответ
                feedback.textContent = `Правильно! ${gameState.wordGame.currentVerb.english} = ${gameState.wordGame.currentVerb.russian}`;
                feedback.className = 'game-feedback feedback-correct';
                
                // Добавляем глагол в изученные
                if (!gameState.learnedVerbs.has(gameState.wordGame.currentVerb.english)) {
                    gameState.learnedVerbs.add(gameState.wordGame.currentVerb.english);
                }
                
                gameState.correctAnswers++;
                
                // Обновляем статистику
                updateStats();
                
                // Через 2 секунды начинаем новую игру
                setTimeout(() => {
                    startNewWordGame();
                }, 2000);
            } else {
                // Неправильный ответ
                if (userWord.length < word.length) {
                    feedback.textContent = `Слово слишком короткое. Нужно ${word.length} букв`;
                } else {
                    feedback.textContent = `Попробуйте ещё! Правильный ответ: ${gameState.wordGame.currentVerb.english}`;
                }
                feedback.className = 'game-feedback feedback-incorrect';
                
                // Через 3 секунды очищаем и показываем правильный ответ
                setTimeout(() => {
                    clearWordSelection();
                    // Заполняем правильным словом
                    for (let i = 0; i < word.length; i++) {
                        gameState.wordGame.wordSlots[i].textContent = word[i];
                        gameState.wordGame.wordSlots[i].classList.add('filled');
                    }
                    
                    // Помечаем все буквы как выбранные
                    document.querySelectorAll('.letter').forEach(letter => {
                        if (word.includes(letter.textContent)) {
                            letter.classList.add('selected');
                        }
                    });
                }, 3000);
            }
        }

        // Дать подсказку
        function giveHint() {
            const word = gameState.wordGame.currentVerb.english.toLowerCase();
            const emptySlots = gameState.wordGame.wordSlots.filter(slot => !slot.textContent);
            
            if (emptySlots.length > 0 && gameState.wordGame.hintCount < word.length) {
                // Находим первую пустую позицию
                const slotIndex = gameState.wordGame.wordSlots.findIndex(slot => !slot.textContent);
                const correctLetter = word[slotIndex];
                
                // Находим соответствующую букву среди доступных
                const correctLetterElement = Array.from(document.querySelectorAll('.letter')).find(
                    letter => letter.textContent === correctLetter && !letter.classList.contains('selected')
                );
                
                if (correctLetterElement) {
                    // Выбираем эту букву
                    selectLetter(correctLetterElement);
                    gameState.wordGame.hintCount++;
                    
                    // Обновляем подсказку
                    document.getElementById('word-hint').textContent = 
                        `Подсказка использована (${gameState.wordGame.hintCount}/${word.length})`;
                }
            }
        }

        // Инициализация игры "Кто хочет стать миллионером?"
        function initMillionaireGame() {
            // Создаем уровни призов
            createPrizeLevels();
            
            // Обработчики кнопок
            document.getElementById('start-game').addEventListener('click', startMillionaireGame);
            document.getElementById('take-money').addEventListener('click', takeMoney);
            
            // Обработчики подсказок
            document.getElementById('fifty-fifty').addEventListener('click', useFiftyFifty);
            document.getElementById('call-friend').addEventListener('click', useCallFriend);
            document.getElementById('ask-audience').addEventListener('click', useAskAudience);
        }

        // Создание уровней призов
        function createPrizeLevels() {
            const prizeLevelsContainer = document.getElementById('prize-levels');
            prizeLevelsContainer.innerHTML = '';
            
            prizeLevels.forEach(level => {
                const levelElement = document.createElement('div');
                levelElement.className = 'prize-level future';
                levelElement.id = `prize-level-${level.level}`;
                levelElement.innerHTML = `
                    <span>Вопрос ${level.level}</span>
                    <span class="prize-amount">${level.prize}</span>
                `;
                prizeLevelsContainer.appendChild(levelElement);
            });
        }

        // Начать игру "Кто хочет стать миллионером?"
        function startMillionaireGame() {
            // Сброс состояния игры
            gameState.millionaire.currentLevel = 0;
            gameState.millionaire.currentPrize = 0;
            gameState.millionaire.isPlaying = true;
            gameState.millionaire.lifelines = {
                fiftyFifty: true,
                callFriend: true,
                askAudience: true
            };
            gameState.millionaire.questionsAnswered = 0;
            gameState.millionaire.gameOver = false;
            
            // Скрываем стартовый экран
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('question-container').style.display = 'block';
            document.getElementById('game-result').style.display = 'none';
            document.getElementById('take-money').style.display = 'block';
            
            // Обновляем подсказки
            updateLifelines();
            
            // Сбрасываем уровни призов
            document.querySelectorAll('.prize-level').forEach(level => {
                level.className = 'prize-level future';
            });
            
            // Начинаем с первого вопроса
            nextMillionaireQuestion();
        }

        // Следующий вопрос в игре "Кто хочет стать миллионером?"
        function nextMillionaireQuestion() {
            if (gameState.millionaire.gameOver) return;
            
            // Увеличиваем уровень
            gameState.millionaire.currentLevel++;
            
            // Если прошли все уровни, победа
            if (gameState.millionaire.currentLevel > prizeLevels.length) {
                winMillionaireGame();
                return;
            }
            
            // Обновляем отображение текущего уровня
            updatePrizeLevels();
            
            // Выбираем случайный глагол для вопроса
            const randomVerbIndex = Math.floor(Math.random() * verbs.length);
            const correctVerb = verbs[randomVerbIndex];
            
            // Определяем тип вопроса (с английского на русский или с русского на английский)
            const questionType = Math.random() > 0.5 ? 'en-ru' : 'ru-en';
            
            // Создаем вопрос
            let questionText, correctAnswer;
            
            if (questionType === 'en-ru') {
                questionText = `Что означает глагол <strong>"${correctVerb.english}"</strong>?`;
                correctAnswer = correctVerb.russian;
            } else {
                questionText = `Какой английский глагол соответствует слову <strong>"${correctVerb.russian}"</strong>?`;
                correctAnswer = correctVerb.english;
            }
            
            // Сохраняем текущий вопрос
            gameState.millionaire.currentQuestion = {
                text: questionText,
                correctAnswer: correctAnswer,
                type: questionType,
                verb: correctVerb
            };
            
            // Обновляем текст вопроса
            document.getElementById('question-text').innerHTML = questionText;
            
            // Создаем варианты ответов
            createAnswerOptions(correctVerb, questionType, correctAnswer);
            
            // Включаем все кнопки ответов
            document.querySelectorAll('.answer-option').forEach(option => {
                option.style.pointerEvents = 'auto';
                option.classList.remove('correct', 'wrong');
            });
        }

        // Создание вариантов ответов
        function createAnswerOptions(correctVerb, questionType, correctAnswer) {
            const answersGrid = document.getElementById('answers-grid');
            answersGrid.innerHTML = '';
            
            const answerOptions = [correctAnswer];
            const answerLetters = ['A', 'B', 'C', 'D'];
            
            // Добавляем 3 случайных неправильных ответа
            while (answerOptions.length < 4) {
                const randomIndex = Math.floor(Math.random() * verbs.length);
                let randomAnswer;
                
                if (questionType === 'en-ru') {
                    randomAnswer = verbs[randomIndex].russian;
                } else {
                    randomAnswer = verbs[randomIndex].english;
                }
                
                if (!answerOptions.includes(randomAnswer) && randomAnswer !== correctAnswer) {
                    answerOptions.push(randomAnswer);
                }
            }
            
            // Перемешиваем варианты
            shuffleArray(answerOptions);
            
            // Создаем кнопки вариантов
            answerOptions.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'answer-option';
                optionElement.dataset.answer = option;
                
                optionElement.innerHTML = `
                    <div class="answer-letter">${answerLetters[index]}</div>
                    <div class="answer-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', function() {
                    checkMillionaireAnswer(this, option, correctAnswer, correctVerb);
                });
                
                answersGrid.appendChild(optionElement);
            });
        }

        // Проверка ответа в игре "Кто хочет стать миллионером?"
        function checkMillionaireAnswer(selectedElement, selectedAnswer, correctAnswer, correctVerb) {
            // Отключаем все варианты после выбора
            document.querySelectorAll('.answer-option').forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            // Проверяем ответ
            if (selectedAnswer === correctAnswer) {
                // Правильный ответ
                selectedElement.classList.add('correct');
                
                // Добавляем глагол в изученные
                if (!gameState.learnedVerbs.has(correctVerb.english)) {
                    gameState.learnedVerbs.add(correctVerb.english);
                }
                
                gameState.correctAnswers++;
                gameState.millionaire.questionsAnswered++;
                gameState.millionaire.currentPrize = prizeLevels[gameState.millionaire.currentLevel - 1].prize;
                
                // Обновляем статистику
                updateStats();
                
                // Переходим к следующему вопросу через 2 секунды
                setTimeout(() => {
                    nextMillionaireQuestion();
                }, 2000);
            } else {
                // Неправильный ответ
                selectedElement.classList.add('wrong');
                
                // Подсвечиваем правильный ответ
                document.querySelectorAll('.answer-option').forEach(option => {
                    if (option.dataset.answer === correctAnswer) {
                        option.classList.add('correct');
                    }
                });
                
                // Конец игры через 2 секунды
                setTimeout(() => {
                    endMillionaireGame(false);
                }, 2000);
            }
        }

        // Обновление отображения уровней призов
        function updatePrizeLevels() {
            // Сбрасываем все уровни
            document.querySelectorAll('.prize-level').forEach(level => {
                level.className = 'prize-level future';
            });
            
            // Прошлые уровни
            for (let i = 1; i < gameState.millionaire.currentLevel; i++) {
                const levelElement = document.getElementById(`prize-level-${i}`);
                if (levelElement) {
                    levelElement.className = 'prize-level passed';
                }
            }
            
            // Текущий уровень
            const currentLevelElement = document.getElementById(`prize-level-${gameState.millionaire.currentLevel}`);
            if (currentLevelElement) {
                currentLevelElement.className = 'prize-level current';
            }
        }

        // Обновление состояния подсказок
        function updateLifelines() {
            document.getElementById('fifty-fifty').disabled = !gameState.millionaire.lifelines.fiftyFifty;
            document.getElementById('fifty-fifty').className = gameState.millionaire.lifelines.fiftyFifty ? 
                'lifeline-btn' : 'lifeline-btn used';
                
            document.getElementById('call-friend').disabled = !gameState.millionaire.lifelines.callFriend;
            document.getElementById('call-friend').className = gameState.millionaire.lifelines.callFriend ? 
                'lifeline-btn' : 'lifeline-btn used';
                
            document.getElementById('ask-audience').disabled = !gameState.millionaire.lifelines.askAudience;
            document.getElementById('ask-audience').className = gameState.millionaire.lifelines.askAudience ? 
                'lifeline-btn' : 'lifeline-btn used';
        }

        // Подсказка 50/50
        function useFiftyFifty() {
            if (!gameState.millionaire.lifelines.fiftyFifty || !gameState.millionaire.isPlaying) return;
            
            const answerOptions = document.querySelectorAll('.answer-option');
            const correctAnswer = gameState.millionaire.currentQuestion.correctAnswer;
            
            // Находим неправильные ответы
            const wrongOptions = Array.from(answerOptions).filter(option => 
                option.dataset.answer !== correctAnswer
            );
            
            // Перемешиваем неправильные ответы
            shuffleArray(wrongOptions);
            
            // Скрываем два неправильных ответа
            for (let i = 0; i < 2 && i < wrongOptions.length; i++) {
                wrongOptions[i].style.opacity = '0.3';
                wrongOptions[i].style.pointerEvents = 'none';
            }
            
            // Отмечаем подсказку как использованную
            gameState.millionaire.lifelines.fiftyFifty = false;
            updateLifelines();
        }

        // Подсказка "Звонок другу"
        function useCallFriend() {
            if (!gameState.millionaire.lifelines.callFriend || !gameState.millionaire.isPlaying) return;
            
            const correctAnswer = gameState.millionaire.currentQuestion.correctAnswer;
            const answerOptions = document.querySelectorAll('.answer-option');
            
            // Находим правильный ответ
            const correctOption = Array.from(answerOptions).find(option => 
                option.dataset.answer === correctAnswer
            );
            
            if (correctOption) {
                // Визуально выделяем правильный ответ
                correctOption.style.boxShadow = '0 0 20px 5px #4CAF50';
                
                // Через 5 секунд убираем выделение
                setTimeout(() => {
                    correctOption.style.boxShadow = '';
                }, 5000);
            }
            
            // Отмечаем подсказку как использованную
            gameState.millionaire.lifelines.callFriend = false;
            updateLifelines();
            
            // Показываем сообщение
            alert('Друг думает, что правильный ответ выделен зеленой подсветкой!');
        }

        // Подсказка "Помощь зала"
        function useAskAudience() {
            if (!gameState.millionaire.lifelines.askAudience || !gameState.millionaire.isPlaying) return;
            
            const correctAnswer = gameState.millionaire.currentQuestion.correctAnswer;
            const answerOptions = document.querySelectorAll('.answer-option');
            const answerLetters = ['A', 'B', 'C', 'D'];
            
            // Находим индекс правильного ответа
            let correctIndex = -1;
            answerOptions.forEach((option, index) => {
                if (option.dataset.answer === correctAnswer) {
                    correctIndex = index;
                }
            });
            
            if (correctIndex !== -1) {
                // Генерируем "результаты" голосования зала
                let percentages = [0, 0, 0, 0];
                
                // Правильный ответ получает наибольший процент
                percentages[correctIndex] = 40 + Math.floor(Math.random() * 30); // 40-70%
                
                // Распределяем оставшиеся проценты
                let remaining = 100 - percentages[correctIndex];
                for (let i = 0; i < 4; i++) {
                    if (i !== correctIndex) {
                        percentages[i] = Math.floor(Math.random() * remaining / 3);
                        remaining -= percentages[i];
                    }
                }
                
                // Если остались проценты, добавляем их к последнему варианту
                if (remaining > 0) {
                    let lastIndex = 3;
                    while (lastIndex === correctIndex && lastIndex > 0) {
                        lastIndex--;
                    }
                    percentages[lastIndex] += remaining;
                }
                
                // Показываем результаты
                let resultsMessage = 'Зал проголосовал так:\n';
                answerOptions.forEach((option, index) => {
                    const letter = answerLetters[index];
                    resultsMessage += `${letter}: ${percentages[index]}%\n`;
                });
                
                alert(resultsMessage);
            }
            
            // Отмечаем подсказку как использованную
            gameState.millionaire.lifelines.askAudience = false;
            updateLifelines();
        }

        // Забрать баллы и закончить игру
        function takeMoney() {
            if (!gameState.millionaire.isPlaying) return;
            
            // Определяем выигрыш
            let prize = "0 баллов";
            if (gameState.millionaire.currentLevel > 1) {
                prize = prizeLevels[gameState.millionaire.currentLevel - 2].prize;
            }
            
            // Завершаем игру
            endMillionaireGame(true, prize);
        }

        // Победа в игре
        function winMillionaireGame() {
            endMillionaireGame(true, prizeLevels[prizeLevels.length - 1].prize);
        }

        // Конец игры
        function endMillionaireGame(won, prize = "0 баллов") {
            gameState.millionaire.isPlaying = false;
            gameState.millionaire.gameOver = true;
            
            // Скрываем вопрос
            document.getElementById('question-container').style.display = 'none';
            
            // Показываем результат
            const resultElement = document.getElementById('game-result');
            resultElement.style.display = 'block';
            
            if (won) {
                resultElement.className = 'game-result result-win';
                resultElement.innerHTML = `
                    <h3>Поздравляем! Вы выиграли!</h3>
                    <p>Ваш выигрыш: <strong>${prize}</strong></p>
                    <p>Вы правильно ответили на ${gameState.millionaire.questionsAnswered} вопросов!</p>
                    <p>Теперь вы настоящий эксперт по английским глаголам!</p>
                `;
            } else {
                resultElement.className = 'game-result result-lose';
                let finalPrize = "0 баллов";
                
                // Определяем гарантированный выигрыш
                for (let i = gameState.millionaire.currentLevel - 1; i >= 0; i--) {
                    if (prizeLevels[i] && prizeLevels[i].safe) {
                        finalPrize = prizeLevels[i].prize;
                        break;
                    }
                }
                
                resultElement.innerHTML = `
                    <h3>Игра окончена!</h3>
                    <p>К сожалению, вы ответили неправильно.</p>
                    <p>Ваш выигрыш: <strong>${finalPrize}</strong></p>
                    <p>Вы правильно ответили на ${gameState.millionaire.questionsAnswered} вопросов!</p>
                `;
            }
            
            // Показываем кнопку для новой игры
            const newGameBtn = document.createElement('button');
            newGameBtn.className = 'millionaire-btn start-btn';
            newGameBtn.innerHTML = '<i class="fas fa-redo"></i> Играть снова';
            newGameBtn.addEventListener('click', startMillionaireGame);
            
            resultElement.appendChild(newGameBtn);
        }

        // Обновление статистики
        function updateStats() {
            const learnedCount = document.getElementById('learned-count');
            const learnedCountText = document.getElementById('learned-count-text');
            const correctCount = document.getElementById('correct-count');
            const levelElement = document.getElementById('level');
            const progressFill = document.getElementById('progress-fill');
            
            // Обновляем счетчики
            const learned = gameState.learnedVerbs.size;
            learnedCount.textContent = learned;
            learnedCountText.textContent = learned;
            correctCount.textContent = gameState.correctAnswers;
            
            // Обновляем прогресс
            const progress = (learned / verbs.length) * 100;
            progressFill.style.width = `${progress}%`;
            
            // Определяем уровень
            let level = 'Новичок';
            if (learned >= 10) level = 'Ученик';
            if (learned >= 20) level = 'Знаток';
            if (learned === verbs.length) level = 'Эксперт!';
            
            levelElement.textContent = level;
        }

        // Функция для произношения слова (использует Web Speech API)
        function speakWord(word) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(word);
                utterance.lang = 'en-US';
                utterance.rate = 0.8; // Немного медленнее для детей
                speechSynthesis.speak(utterance);
            } else {
                alert('Ваш браузер не поддерживает синтез речи. Попробуйте использовать Chrome или Edge.');
            }
        }

        // Вспомогательная функция для перемешивания массива
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    </script>
</body>
</html>